<br>
<div align="center">
    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ibG9nbyIgd2lkdGg9IjYyIiBoZWlnaHQ9IjY2IiB2aWV3Qm94PSIwIDAgNjIgNjYiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGZpbGw6ICNmOGQxZDk7CiAgICAgIH0KCiAgICAgIC5jbHMtMSwgLmNscy0yLCAuY2xzLTMgewogICAgICAgIGZpbGwtcnVsZTogZXZlbm9kZDsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjYmFiNWVjOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGw6IHVybCgjbGluZWFyLWdyYWRpZW50KTsKICAgICAgfQogICAgPC9zdHlsZT4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iMTkuNDEiIHkxPSI2NiIgeDI9IjQ0LjU5IiB5Mj0iMTIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjYmFiNWVjIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2YxYjdiZiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPHBhdGggaWQ9ImNscy0xIiBjbGFzcz0iY2xzLTEiIGQ9Ik0wLDE3TDMwLDBWMzlMMCw1N1YxN1oiLz4KICA8cGF0aCBpZD0iY2xzLTIiIGNsYXNzPSJjbHMtMiIgZD0iTTMzLDM5TDYyLDU2VjE3TDMzLDBWMzlaIi8+CiAgPHBhdGggaWQ9ImNscy0zIiBkYXRhLW5hbWU9ImNscy0zIiBjbGFzcz0iY2xzLTMiIGQ9Ik0xOCwyOEw0NiwxMlY0OUwxOCw2NlYyOFoiLz4KPC9zdmc+" width=100/>
</div>
<div align="center">
    <h1>OUC Shell</h1>
</div>
<br>
<div align="center">
    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTMiIGhlaWdodD0iMTgiIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iT3JnYW5pemF0aW9uOiBJVHN0dWRpbyI+Cjx0aXRsZT5Pcmdhbml6YXRpb246IElUU3R1ZGlvPC90aXRsZT4KPGxpbmVhckdyYWRpZW50IGlkPSJzIiB4Mj0iMCIgeTI9IjEwMCUiPgo8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjciLz4KPHN0b3Agb2Zmc2V0PSIuMSIgc3RvcC1jb2xvcj0iI2FhYSIgc3RvcC1vcGFjaXR5PSIuMSIvPgo8c3RvcCBvZmZzZXQ9Ii45IiBzdG9wLWNvbG9yPSIjMDAwIiBzdG9wLW9wYWNpdHk9Ii4zIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwMCIgc3RvcC1vcGFjaXR5PSIuNSIvPgo8L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iciI+PHJlY3Qgd2lkdGg9IjE1MyIgaGVpZ2h0PSIxOCIgcng9IjQiIGZpbGw9IiNmZmYiLz4KPC9jbGlwUGF0aD48ZyBjbGlwLXBhdGg9InVybCgjcikiPjxyZWN0IHdpZHRoPSI5OCIgaGVpZ2h0PSIxOCIgZmlsbD0iIzU1NSIvPgo8cmVjdCB4PSI5OCIgd2lkdGg9IjU1IiBoZWlnaHQ9IjE4IiBmaWxsPSIjZjhkMWQ5Ii8+PHJlY3Qgd2lkdGg9IjE1MyIgaGVpZ2h0PSIxOCIgZmlsbD0idXJsKCNzKSIvPjwvZz4KPGcgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IlZlcmRhbmEsR2VuZXZhLERlamFWdSBTYW5zLHNhbnMtc2VyaWYiIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIGZvbnQtc2l6ZT0iMTEwIj4KPGltYWdlIHg9IjUiIHk9IjIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgaHJlZj0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCcFpEMGliRzluYnlJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUlnZDJsa2RHZzlJall5SWlCb1pXbG5hSFE5SWpZMklpQjJhV1YzUW05NFBTSXdJREFnTmpJZ05qWWlQZ29nSUR4a1pXWnpQZ29nSUNBZ1BITjBlV3hsUGdvZ0lDQWdJQ0F1WTJ4ekxURWdld29nSUNBZ0lDQWdJR1pwYkd3NklDTm1PR1F4WkRrN0NpQWdJQ0FnSUgwS0NpQWdJQ0FnSUM1amJITXRNU3dnTG1Oc2N5MHlMQ0F1WTJ4ekxUTWdld29nSUNBZ0lDQWdJR1pwYkd3dGNuVnNaVG9nWlhabGJtOWtaRHNLSUNBZ0lDQWdmUW9LSUNBZ0lDQWdMbU5zY3kweUlIc0tJQ0FnSUNBZ0lDQm1hV3hzT2lBalltRmlOV1ZqT3dvZ0lDQWdJQ0I5Q2dvZ0lDQWdJQ0F1WTJ4ekxUTWdld29nSUNBZ0lDQWdJR1pwYkd3NklIVnliQ2dqYkdsdVpXRnlMV2R5WVdScFpXNTBLVHNLSUNBZ0lDQWdmUW9nSUNBZ1BDOXpkSGxzWlQ0S0lDQWdJRHhzYVc1bFlYSkhjbUZrYVdWdWRDQnBaRDBpYkdsdVpXRnlMV2R5WVdScFpXNTBJaUI0TVQwaU1Ua3VOREVpSUhreFBTSTJOaUlnZURJOUlqUTBMalU1SWlCNU1qMGlNVElpSUdkeVlXUnBaVzUwVlc1cGRITTlJblZ6WlhKVGNHRmpaVTl1VlhObElqNEtJQ0FnSUNBZ1BITjBiM0FnYjJabWMyVjBQU0l3SWlCemRHOXdMV052Ykc5eVBTSWpZbUZpTldWaklpOCtDaUFnSUNBZ0lEeHpkRzl3SUc5bVpuTmxkRDBpTVNJZ2MzUnZjQzFqYjJ4dmNqMGlJMll4WWpkaVppSXZQZ29nSUNBZ1BDOXNhVzVsWVhKSGNtRmthV1Z1ZEQ0S0lDQThMMlJsWm5NK0NpQWdQSEJoZEdnZ2FXUTlJbU5zY3kweElpQmpiR0Z6Y3owaVkyeHpMVEVpSUdROUlrMHdMREUzVERNd0xEQldNemxNTUN3MU4xWXhOMW9pTHo0S0lDQThjR0YwYUNCcFpEMGlZMnh6TFRJaUlHTnNZWE56UFNKamJITXRNaUlnWkQwaVRUTXpMRE01VERZeUxEVTJWakUzVERNekxEQldNemxhSWk4K0NpQWdQSEJoZEdnZ2FXUTlJbU5zY3kweklpQmtZWFJoTFc1aGJXVTlJbU5zY3kweklpQmpiR0Z6Y3owaVkyeHpMVE1pSUdROUlrMHhPQ3d5T0V3ME5pd3hNbFkwT1V3eE9DdzJObFl5T0ZvaUx6NEtQQzl6ZG1jK0NnPT0iLz48dGV4dCBhcmlhLWhpZGRlbj0idHJ1ZSIgeD0iNTg1IiB5PSIxNDAiIGZpbGw9IiMwMTAxMDEiIGZpbGwtb3BhY2l0eT0iLjMiIHRyYW5zZm9ybT0ic2NhbGUoLjEpIiB0ZXh0TGVuZ3RoPSI3MTAiPk9yZ2FuaXphdGlvbjwvdGV4dD48dGV4dCB4PSI1ODUiIHk9IjEzMCIgdHJhbnNmb3JtPSJzY2FsZSguMSkiIGZpbGw9IiNmZmYiIHRleHRMZW5ndGg9IjcxMCI+T3JnYW5pemF0aW9uPC90ZXh0Pjx0ZXh0IGFyaWEtaGlkZGVuPSJ0cnVlIiB4PSIxMjQ1IiB5PSIxNDAiIGZpbGw9IiNjY2MiIGZpbGwtb3BhY2l0eT0iLjMiIHRyYW5zZm9ybT0ic2NhbGUoLjEpIiB0ZXh0TGVuZ3RoPSI0NTAiPklUU3R1ZGlvPC90ZXh0Pjx0ZXh0IHg9IjEyNDUiIHk9IjEzMCIgdHJhbnNmb3JtPSJzY2FsZSguMSkiIGZpbGw9IiMzMzMiIHRleHRMZW5ndGg9IjQ1MCI+SVRTdHVkaW88L3RleHQ+PC9nPjwvc3ZnPg=="/>
    <img src="https://img.shields.io/badge/Language-Shell-green">
    <img src="https://img.shields.io/badge/License-MIT-Black">
</div>
<br>

ä¸ºæ–¹ä¾¿ğŸå¤§å­¦ç”Ÿï¼Œçˆ±ç‰¹å·¥ä½œå®¤ç¼–å†™äº†ä¸€äº›éå¸¸å®ç”¨çš„Shellå°ç¨‹åºï¼Œå¹¶ä¸”ä½ å¯ä»¥éå¸¸æ–¹ä¾¿åœ°é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥å¯ç”¨å’Œé…ç½®æ‰€æœ‰è¿™é‡Œæœ‰çš„åŠŸèƒ½ï¼Œè€Œä¸”åªéœ€è¦æ³¨å†Œä¸€ä¸ª**Systemd**æœåŠ¡å°±å¯ä»¥å®ç°è‡ªåŠ¨åŒ–æµç¨‹ï¼Œéå¸¸æ–¹ä¾¿

## â— ä¸¥æ­£å£°æ˜

æœ¬é¡¹ç›®**ä»…ä¾›ä¸ªäººå’Œå­¦ä¹ ä½¿ç”¨**ï¼Œç¦æ­¢å°†æœ¬é¡¹ç›®çš„ä»£ç ä½œä¸ºå•†ä¸šåŠéæ³•ç”¨é€”ï¼Œç¦æ­¢æ¶æ„ä¿®æ”¹æœ¬ä»“åº“ä»£ç ï¼Œç¦æ­¢é€šè¿‡æœ¬ä»“åº“ä»£ç æŒ–æ˜æ ¡å›­ç½‘ä¿¡æ¯ç³»ç»Ÿæ¼æ´ï¼Œè¿è€…å°†æ‰¿æ‹…æ³•å¾‹è´£ä»»

## ğŸ• é£Ÿç”¨æ–¹æ³•

1.å…‹éš†æœ¬ä»“åº“

```
git clone git@github.com:ITStudioOUC/OUC_Shell.git
```

2.è¿è¡Œè„šæœ¬

```
cd OUC_shell
bash main.sh
```

åœ¨é¦–æ¬¡è¿è¡Œæˆ–é‡æ–°ç”Ÿæˆé…ç½®æ–‡ä»¶æ—¶ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ `config.toml` ï¼Œä¹‹åè„šæœ¬ä¼šè‡ªåŠ¨é€€å‡ºï¼Œåœ¨ä½ ç¼–è¾‘å¥½é…ç½®æ–‡ä»¶åé‡æ–°å¯åŠ¨è„šæœ¬å³å¯

3.æ³¨å†ŒæœåŠ¡ / è®¾ç½®è‡ªå¯åŠ¨

**Linuxï¼ˆsystemdï¼‰**

- åˆ›å»ºæœåŠ¡æ–‡ä»¶
  ```
  touch /etc/systemd/system/oucshell.service
  ```
- ç¼–è¾‘æœåŠ¡æ–‡ä»¶ï¼ˆæŒ‰å®é™…è·¯å¾„æ›¿æ¢ï¼‰
  ```
  # è¿™åªæ˜¯ä¸€ä¸ªsystemdæœåŠ¡æ³¨å†Œç¤ºä¾‹ï¼Œä¸è¦ç›´æ¥æ‹¿æ¥ç”¨
  [Unit]
  Description=Campus Helper Service (Electricity & More)
  After=network.target

  [Service]
  Type=simple
  User=root
  WorkingDirectory=/ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell           # æ›¿æ¢ä¸ºä½ çš„ä»“åº“è·¯å¾„
  ExecStart=/bin/bash /ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell/main.sh # æ›¿æ¢ä¸ºä½ çš„ main.sh è·¯å¾„
  Restart=always
  RestartSec=10

  [Install]
  WantedBy=multi-user.target
  ```
- å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯
  ```
  systemctl start oucshell.service
  systemctl enable oucshell.service
  ```

**macOSï¼ˆLaunchAgentï¼Œéšç”¨æˆ·ç™»å½•å¯åŠ¨ï¼‰**

- å®‰è£…ä¾èµ–ï¼ˆmacOS è‡ªå¸¦ curlï¼Œéœ€å®‰è£… jq ä¸ bcï¼‰
  ```
  brew install jq bc
  ```
> **æ³¨æ„**ï¼šä¸‹æ–¹ plist æ–‡ä»¶ä¸­çš„æ‰€æœ‰ `/ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell` éƒ½éœ€è¦æ›¿æ¢ä¸ºä½ çš„å®é™…ä»“åº“ç»å¯¹è·¯å¾„ï¼ˆä¾‹å¦‚ `/Users/yourname/github_project/OUC_Shell`ï¼‰ï¼Œå¦åˆ™æœåŠ¡æ— æ³•æ­£å¸¸è¿è¡Œã€‚
- åˆ›å»º LaunchAgentï¼ˆæŠŠè·¯å¾„æ¢æˆä½ è‡ªå·±çš„ç»å¯¹è·¯å¾„ï¼‰
  cat > ~/Library/LaunchAgents/cn.ouc.shell.plist <<'EOF'
  <?xml version="1.0" encoding="UTF-8"?>
  <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
  <plist version="1.0">
  <dict>
    <key>Label</key>
    <string>cn.ouc.shell</string>
    <key>ProgramArguments</key>
    <array>
      <string>/bin/bash</string>
      <string>/ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell/main.sh</string>
    </array>
    <key>WorkingDirectory</key><string>/ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell</string>
    <key>StandardOutPath</key><string>/ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell/service.log</string>
    <key>StandardErrorPath</key><string>/ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell/service.log</string>
    <key>RunAtLoad</key><true/>
    <key>KeepAlive</key><true/>
  </dict>
  </plist>
  EOF

launchctl load ~/Library/LaunchAgents/cn.ouc.shell.plist
  ```
  - è¯·å°† `/ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell` æ›¿æ¢ä¸ºä½ çš„å®é™…ä»“åº“è·¯å¾„ï¼ˆä¾‹å¦‚ `/Users/yourname/github_project/OUC_Shell`ï¼‰ã€‚
  - åœæ­¢/é‡è½½ï¼š`launchctl unload ~/Library/LaunchAgents/cn.ouc.shell.plist` åå† `load`ã€‚
- æŸ¥çœ‹è¿è¡Œæ—¥å¿—
  ```
  tail -f /ç»å¯¹è·¯å¾„/åˆ°/OUC_Shell/service.log
  
# æ•ˆæœæ¼”ç¤º

![img.png](show.png)

## ğŸ¤ è´¡çŒ®è€…

<!-- readme: contributors -start -->
<table>
	<tbody>
		<tr>
            <td align="center">
                <a href="https://github.com/Yaosanqi137">
                    <img src="https://avatars.githubusercontent.com/u/99163721?v=4" width="100;" alt="Yaosanqi137"/>
                    <br />
                    <sub><b>Yaosanqi137</b></sub>
                </a>
            </td>
            <td align="center">
                <a href="https://github.com/Howard-aile">
                    <img src="https://avatars.githubusercontent.com/u/156976283?v=4" width="100;" alt="Howard-aile"/>
                    <br />
                    <sub><b>Howard-aile</b></sub>
                </a>
            </td>
		</tr>
	<tbody>
</table>
<!-- readme: contributors -end -->
